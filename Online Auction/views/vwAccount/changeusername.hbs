{{#section 'css'}}
<style>
  .eye {
    cursor: pointer;
  }
</style>
{{/section}}

{{#section 'js'}}

<script>
  function validate() {
    var result = true;
    const username = $('#txtUserName').val();
    const password = $('#txtPassword').val();
    if (username === '' || password === '') {
      $(`<div class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong>Please fill in all fields</strong>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
            </div>`).insertBefore(".abcdef");
      return false;
    }

    if (username !== '')
      if (username.length < 4) {
        $(`<div class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong>Username should be at least 4 characters</strong>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
            </div>`).insertBefore(".abcdef");
        result = false;
      }

    if (password !== '')
      if (password.length < 4) {
        $(`<div class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong>Password should be at least 4 characters</strong>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
            </div>`).insertBefore(".abcdef");
        result = false;
      }
    return result;
  }
</script>
<script>
  var check = true;
  function showHiddenPassword() {
    if (check) {
      $('#txtPassword').attr("type", "text");
      $('#eye1').attr('class', 'fa fa-2x fa-eye float-right eye');
      check = false;
    } else {
      $('#txtPassword').attr('type', 'password');
      $('#eye1').attr('class', 'fa fa-2x fa-eye-slash float-right eye');
      check = true;
    }
  }
</script>
{{/section}}
<div class="container">
  <div class="card shadow mb-4" id="register">
    <h3 class="card-header text-danger">
      <i class="fa fa-edit"></i> Username
    </h3>
    <div class="card-body">
      <form onsubmit="return validate();" method="POST" id="frmChangeUsername" name="frmChangeUsername">
        {{#if error}}
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
          <strong>{{error}}</strong>
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        {{/if}}
        <div class="row abcdef">
          <div class="col">
            <div class="form-group">
              <label for="txtPassword" class="chulon"><i class="fa fa-lock"></i> Confirm Password <i
                  class="fa fa-star text-danger"></i></label>
              <span class="fa fa-2x fa-eye-slash float-right eye" id="eye1" onclick="showHiddenPassword()"></span>
              <input type="password" class="form-control" id="txtPassword" name="password" autofocus>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <div class="form-group">
              <label for="txtUserName" class="chulon"><i class="fa fa-user"></i> New Username <i
                  class="fa fa-star text-danger"></i></label>
              <input type="text" class="form-control" id="txtUserName" name="username" placeholder="Hienhhcc">
            </div>
          </div>
        </div>
        <a class="btn btn-info" href="/account/profile" role="button">
          <i class="fa fa-backward" aria-hidden="true"></i>
          Profile
        </a>
        <button type="submit" class="btn btn-success">
          <i class="fa fa-check" aria-hidden="true"></i>
          Change
        </button>
      </form>
    </div>
    <div class="card-footer text-muted">
      Footer
    </div>
  </div>
</div>