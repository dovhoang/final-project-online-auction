{{#section 'css'}}
<style>
    .eye {
        cursor: pointer;
    }
</style>
{{/section}}
{{#section 'js'}}

<script>
    function validate() {
        const result = true;
        const username = $('#txtUsername').val();
        const password = $('#txtPassword').val();
        if (username === '' || password === '') {
            $(`<div class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong>Please fill in all fields</strong>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
            </div>`).insertBefore(".abcdef");
            return false;
        }

        if (username !== '')
            if (username.length < 4) {
                $(`<div class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong>Username should be at least 4 characters</strong>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
            </div>`).insertBefore(".abcdef");
                result = false;
            }

        if (password !== '')
            if (password.length < 4) {
                $(`<div class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong>Password should be at least 4 characters</strong>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
            </div>`).insertBefore(".abcdef");
                result = false;
            }

        return result;
    }
</script>
<script>
    var check = true;
    function showHiddenPassword() {
        if (check) {
            $('#txtPassword').attr("type", "text");
            $('#eye1').attr('class', 'fa fa-2x fa-eye float-right eye');
            check = false;
        } else {
            $('#txtPassword').attr('type', 'password');
            $('#eye1').attr('class', 'fa fa-2x fa-eye-slash float-right eye');
            check = true;
        }
    }
</script>
{{/section}}
<div class="container">
    <div class="card shadow mb-4" id="register">
        <h3 class="card-header text-danger">
            <i class="fa fa-sign-in"></i> Sign in
        </h3>
        <div class="card-body">
            <form onsubmit="return validate();" method="POST" id="frmRegister" name="frmRegister">
                {{#if success_msg}}
                <div class="alert alert-success alert-dismissible fade show" role="alert">
                    <strong>{{success_msg}}</strong>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                {{/if}}

                {{#if err_message}}
                <div class="alert alert-danger alert-dismissible fade show" role="alert">
                    <strong>{{err_message}}</strong>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                {{/if}}

                {{#if error_msg}}
                <div class="alert alert-danger alert-dismissible fade show" role="alert">
                    <strong>{{error_msg}}</strong>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                {{/if}}
                <div class="form-group abcdef">
                    <label for="txtUsername" class="chulon"><i class="fa fa-user"></i> Username <i
                            class="fa fa-star text-danger"></i></label>
                    <input type="text" class="form-control" id="txtUsername" name="username" placeholder="hienhhcc"
                        value='{{username}}' autofocus>
                </div>

                <div class="form-group">
                    <label for="txtPassWord" class="chulon"><i class="fa fa-lock"></i> PassWord <i
                            class="fa fa-star text-danger"></i></label>
                    <span class="fa fa-2x fa-eye-slash float-right eye" id="eye1" onclick="showHiddenPassword()"></span>
                    <input type="password" class="form-control" id="txtPassword" name="password">
                </div>

                <div class="form-group">
                    <div class="row">
                        <div class="col-lg-6">
                            <button type="submit" class="btn btn-primary">
                                <i class="fa fa-sign-in" aria-hidden="true"></i>
                                Sign in
                            </button>
                        </div>

                        <div class="col-lg-6">
                            <a class="btn btn-warning float-right" href="/account/forgotpassword" role="button">
                                <i class="fa fa-unlock-alt" aria-hidden="true"></i>
                                Forgot password?
                            </a>
                        </div>
                    </div>
                </div>

            </form>
        </div>
        <div class="card-footer text-muted">
            Footer
        </div>
    </div>
</div>